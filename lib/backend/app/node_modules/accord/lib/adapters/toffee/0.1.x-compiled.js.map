{"version":3,"sources":["0.1.x.js"],"names":[],"mappings":"AAAA;;AAEA;;AACA,CAAC,YAAY;AACX,MAAI,OAAJ;AAAA,MACI,MADJ;AAAA,MAEI,CAFJ;AAAA,MAGI,EAHJ;AAAA,MAII,SAAS,SAAS,MAAT,CAAgB,KAAhB,EAAuB,MAAvB,EAA+B;AAC1C,SAAK,IAAI,GAAT,IAAgB,MAAhB,EAAwB;AACtB,UAAI,QAAQ,IAAR,CAAa,MAAb,EAAqB,GAArB,CAAJ,EAA+B,MAAM,GAAN,IAAa,OAAO,GAAP,CAAb;AAChC,cAAS,IAAT,GAAgB;AACf,WAAK,WAAL,GAAmB,KAAnB;AACD,UAAK,SAAL,GAAiB,OAAO,SAAxB,CAAkC,MAAM,SAAN,GAAkB,IAAI,IAAJ,EAAlB,CAA6B,MAAM,SAAN,GAAkB,OAAO,SAAzB,CAAmC,OAAO,KAAP;AACpG,GAVD;AAAA,MAWI,UAAU,GAAG,cAXjB;;AAaA,YAAU,QAAQ,oBAAR,CAAV;;AAEA,MAAI,QAAQ,MAAR,CAAJ;;AAEA,OAAK,QAAQ,IAAR,CAAL;;AAEA,WAAS,UAAU,UAAV,EAAsB;AAC7B,QAAI,OAAJ;;AAEA,WAAO,MAAP,EAAe,UAAf;;AAEA,aAAS,MAAT,GAAkB;AAChB,aAAO,OAAO,SAAP,CAAiB,WAAjB,CAA6B,KAA7B,CAAmC,IAAnC,EAAyC,SAAzC,CAAP;AACD;;AAED,WAAO,SAAP,CAAiB,IAAjB,GAAwB,QAAxB;;AAEA,WAAO,SAAP,CAAiB,UAAjB,GAA8B,CAAC,QAAD,CAA9B;;AAEA,WAAO,SAAP,CAAiB,MAAjB,GAA0B,MAA1B;;AAEA,WAAO,SAAP,CAAiB,gBAAjB,GAAoC,CAAC,QAAD,CAApC;;AAEA,WAAO,SAAP,CAAiB,OAAjB,GAA2B,UAAU,GAAV,EAAe,OAAf,EAAwB;AACjD,aAAO,QAAQ,UAAU,KAAV,EAAiB;AAC9B,eAAO,YAAY;AACjB,iBAAO,MAAM,MAAN,CAAa,UAAb,CAAwB,GAAxB,EAA6B,OAA7B,EAAsC,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC/D,gBAAI,IAAI,OAAJ,CAAY,+EAAZ,MAAiG,CAAC,CAAtG,EAAyG;AACvG,oBAAM,GAAN;AACD,aAFD,MAEO;AACL,qBAAO,GAAP;AACD;AACF,WANM,CAAP;AAOD,SARD;AASD,OAVc,CAUb,IAVa,CAAR,CAAP;AAWD,KAZD;;AAcA,WAAO,SAAP,CAAiB,QAAjB,GAA4B,UAAU,GAAV,EAAe,OAAf,EAAwB;AAClD,aAAO,QAAQ,UAAU,KAAV,EAAiB;AAC9B,eAAO,YAAY;AACjB,iBAAO,MAAM,MAAN,CAAa,UAAb,CAAwB,GAAxB,EAA6B,QAA7B,EAAP;AACD,SAFD;AAGD,OAJc,CAIb,IAJa,CAAR,CAAP;AAKD,KAND;;AAQA,WAAO,SAAP,CAAiB,cAAjB,GAAkC,UAAU,GAAV,EAAe,OAAf,EAAwB;AACxD,aAAO,QAAQ,UAAU,KAAV,EAAiB;AAC9B,eAAO,YAAY;AACjB,iBAAO,MAAM,MAAN,CAAa,oBAAb,CAAkC,GAAlC,EAAuC,OAAvC,CAAP;AACD,SAFD;AAGD,OAJc,CAIb,IAJa,CAAR,CAAP;AAKD,KAND;;AAQA,cAAU,SAAS,OAAT,CAAiB,EAAjB,EAAqB;AAC7B,UAAI,GAAJ,EAAS,KAAT,EAAgB,GAAhB;AACA,UAAI;AACF,cAAM,IAAN;AACD,OAFD,CAEE,OAAO,KAAP,EAAc;AACd,cAAM,KAAN;AACA,eAAO,EAAE,MAAF,CAAS,GAAT,CAAP;AACD;AACD,aAAO,EAAE,OAAF,CAAU;AACf,gBAAQ;AADO,OAAV,CAAP;AAGD,KAXD;;AAaA,WAAO,MAAP;AACD,GA7DQ,CA6DP,OA7DO,CAAT;;AA+DA,SAAO,OAAP,GAAiB,MAAjB;AACD,CApFD,EAoFG,IApFH,CAoFQ,SApFR","file":"0.1.x-compiled.js","sourcesContent":["'use strict';\n\n// Generated by CoffeeScript 1.10.0\n(function () {\n  var Adapter,\n      Toffee,\n      W,\n      fs,\n      extend = function extend(child, parent) {\n    for (var key in parent) {\n      if (hasProp.call(parent, key)) child[key] = parent[key];\n    }function ctor() {\n      this.constructor = child;\n    }ctor.prototype = parent.prototype;child.prototype = new ctor();child.__super__ = parent.prototype;return child;\n  },\n      hasProp = {}.hasOwnProperty;\n\n  Adapter = require('../../adapter_base');\n\n  W = require('when');\n\n  fs = require('fs');\n\n  Toffee = function (superClass) {\n    var compile;\n\n    extend(Toffee, superClass);\n\n    function Toffee() {\n      return Toffee.__super__.constructor.apply(this, arguments);\n    }\n\n    Toffee.prototype.name = 'toffee';\n\n    Toffee.prototype.extensions = ['toffee'];\n\n    Toffee.prototype.output = 'html';\n\n    Toffee.prototype.supportedEngines = ['toffee'];\n\n    Toffee.prototype._render = function (str, options) {\n      return compile(function (_this) {\n        return function () {\n          return _this.engine.str_render(str, options, function (err, res) {\n            if (res.indexOf(\"<div style=\\\"font-family:courier new;font-size:12px;color:#900;width:100%;\\\">\") !== -1) {\n              throw res;\n            } else {\n              return res;\n            }\n          });\n        };\n      }(this));\n    };\n\n    Toffee.prototype._compile = function (str, options) {\n      return compile(function (_this) {\n        return function () {\n          return _this.engine.compileStr(str).toString();\n        };\n      }(this));\n    };\n\n    Toffee.prototype._compileClient = function (str, options) {\n      return compile(function (_this) {\n        return function () {\n          return _this.engine.configurable_compile(str, options);\n        };\n      }(this));\n    };\n\n    compile = function compile(fn) {\n      var err, error, res;\n      try {\n        res = fn();\n      } catch (error) {\n        err = error;\n        return W.reject(err);\n      }\n      return W.resolve({\n        result: res\n      });\n    };\n\n    return Toffee;\n  }(Adapter);\n\n  module.exports = Toffee;\n}).call(undefined);"]}