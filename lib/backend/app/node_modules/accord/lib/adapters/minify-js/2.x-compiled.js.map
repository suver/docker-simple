{"version":3,"sources":["2.x.js"],"names":[],"mappings":"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","file":"2.x-compiled.js","sourcesContent":["'use strict';\n\n// Generated by CoffeeScript 1.10.0\n(function () {\n  var Adapter,\n      MinifyJS,\n      W,\n      _,\n      convert,\n      path,\n      sourcemaps,\n      extend = function extend(child, parent) {\n    for (var key in parent) {\n      if (hasProp.call(parent, key)) child[key] = parent[key];\n    }function ctor() {\n      this.constructor = child;\n    }ctor.prototype = parent.prototype;child.prototype = new ctor();child.__super__ = parent.prototype;return child;\n  },\n      hasProp = {}.hasOwnProperty;\n\n  Adapter = require('../../adapter_base');\n\n  sourcemaps = require('../../sourcemaps');\n\n  W = require('when');\n\n  _ = require('lodash');\n\n  path = require('path');\n\n  convert = require('convert-source-map');\n\n  MinifyJS = function (superClass) {\n    var compile;\n\n    extend(MinifyJS, superClass);\n\n    function MinifyJS() {\n      return MinifyJS.__super__.constructor.apply(this, arguments);\n    }\n\n    MinifyJS.prototype.name = 'minify-js';\n\n    MinifyJS.prototype.extensions = ['js'];\n\n    MinifyJS.prototype.output = 'js';\n\n    MinifyJS.prototype.supportedEngines = ['uglify-js'];\n\n    MinifyJS.prototype.isolated = true;\n\n    MinifyJS.prototype._render = function (str, options) {\n      if (options.sourcemap === true) {\n        options.sourceMap = true;\n        options.outSourceMap = path.basename(options.filename);\n      }\n      return compile(function (_this) {\n        return function () {\n          var obj, res;\n          res = _this.engine.minify(str, _.extend(options, {\n            fromString: true\n          }));\n          obj = {\n            result: res.code\n          };\n          if (options.sourceMap) {\n            obj.sourcemap = JSON.parse(res.map);\n            obj.sourcemap.sources.pop();\n            obj.sourcemap.sources.push(options.filename);\n            obj.result = convert.removeMapFileComments(obj.result).trim();\n            return sourcemaps.inline_sources(obj.sourcemap).then(function (map) {\n              obj.sourcemap = map;\n              return obj;\n            });\n          } else {\n            return obj;\n          }\n        };\n      }(this));\n    };\n\n    compile = function compile(fn, map) {\n      var err, error, res;\n      try {\n        res = fn();\n      } catch (error) {\n        err = error;\n        return W.reject(err);\n      }\n      return W.resolve(res);\n    };\n\n    return MinifyJS;\n  }(Adapter);\n\n  module.exports = MinifyJS;\n}).call(undefined);"]}