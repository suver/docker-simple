{"version":3,"sources":["0.7.x - 1.x.js"],"names":[],"mappings":"AAAA;;AAEA;;AACA,CAAC,YAAY;AACX,MAAI,OAAJ;AAAA,MACI,UADJ;AAAA,MAEI,CAFJ;AAAA,MAGI,CAHJ;AAAA,MAII,SAAS,SAAS,MAAT,CAAgB,KAAhB,EAAuB,MAAvB,EAA+B;AAC1C,SAAK,IAAI,GAAT,IAAgB,MAAhB,EAAwB;AACtB,UAAI,QAAQ,IAAR,CAAa,MAAb,EAAqB,GAArB,CAAJ,EAA+B,MAAM,GAAN,IAAa,OAAO,GAAP,CAAb;AAChC,cAAS,IAAT,GAAgB;AACf,WAAK,WAAL,GAAmB,KAAnB;AACD,UAAK,SAAL,GAAiB,OAAO,SAAxB,CAAkC,MAAM,SAAN,GAAkB,IAAI,IAAJ,EAAlB,CAA6B,MAAM,SAAN,GAAkB,OAAO,SAAzB,CAAmC,OAAO,KAAP;AACpG,GAVD;AAAA,MAWI,UAAU,GAAG,cAXjB;;AAaA,YAAU,QAAQ,oBAAR,CAAV;;AAEA,MAAI,QAAQ,MAAR,CAAJ;;AAEA,MAAI,QAAQ,QAAR,CAAJ;;AAEA,eAAa,UAAU,UAAV,EAAsB;AACjC,QAAI,OAAJ;;AAEA,WAAO,UAAP,EAAmB,UAAnB;;AAEA,aAAS,UAAT,GAAsB;AACpB,aAAO,WAAW,SAAX,CAAqB,WAArB,CAAiC,KAAjC,CAAuC,IAAvC,EAA6C,SAA7C,CAAP;AACD;;AAED,eAAW,SAAX,CAAqB,IAArB,GAA4B,aAA5B;;AAEA,eAAW,SAAX,CAAqB,UAArB,GAAkC,CAAC,MAAD,CAAlC;;AAEA,eAAW,SAAX,CAAqB,MAArB,GAA8B,MAA9B;;AAEA,eAAW,SAAX,CAAqB,gBAArB,GAAwC,CAAC,eAAD,CAAxC;;AAEA;;;;;;AAMA,eAAW,SAAX,CAAqB,QAArB,GAAgC,IAAhC;;AAEA,eAAW,SAAX,CAAqB,OAArB,GAA+B,UAAU,GAAV,EAAe,OAAf,EAAwB;AACrD,gBAAU,EAAE,QAAF,CAAW,OAAX,EAAoB;AAC5B,wBAAgB,IADY;AAE5B,4BAAoB,IAFQ;AAG5B,+BAAuB;AAHK,OAApB,CAAV;AAKA,aAAO,QAAQ,UAAU,KAAV,EAAiB;AAC9B,eAAO,YAAY;AACjB,iBAAO,MAAM,MAAN,CAAa,MAAb,CAAoB,GAApB,EAAyB,OAAzB,CAAP;AACD,SAFD;AAGD,OAJc,CAIb,IAJa,CAAR,CAAP;AAKD,KAXD;;AAaA,cAAU,SAAS,OAAT,CAAiB,EAAjB,EAAqB;AAC7B,UAAI,GAAJ,EAAS,KAAT,EAAgB,GAAhB;AACA,UAAI;AACF,cAAM,IAAN;AACD,OAFD,CAEE,OAAO,KAAP,EAAc;AACd,cAAM,KAAN;AACA,eAAO,EAAE,MAAF,CAAS,GAAT,CAAP;AACD;AACD,aAAO,EAAE,OAAF,CAAU;AACf,gBAAQ;AADO,OAAV,CAAP;AAGD,KAXD;;AAaA,WAAO,UAAP;AACD,GApDY,CAoDX,OApDW,CAAb;;AAsDA,SAAO,OAAP,GAAiB,UAAjB;AACD,CA3ED,EA2EG,IA3EH,CA2EQ,SA3ER","file":"0.7.x - 1.x-compiled.js","sourcesContent":["'use strict';\n\n// Generated by CoffeeScript 1.10.0\n(function () {\n  var Adapter,\n      MinifyHTML,\n      W,\n      _,\n      extend = function extend(child, parent) {\n    for (var key in parent) {\n      if (hasProp.call(parent, key)) child[key] = parent[key];\n    }function ctor() {\n      this.constructor = child;\n    }ctor.prototype = parent.prototype;child.prototype = new ctor();child.__super__ = parent.prototype;return child;\n  },\n      hasProp = {}.hasOwnProperty;\n\n  Adapter = require('../../adapter_base');\n\n  W = require('when');\n\n  _ = require('lodash');\n\n  MinifyHTML = function (superClass) {\n    var compile;\n\n    extend(MinifyHTML, superClass);\n\n    function MinifyHTML() {\n      return MinifyHTML.__super__.constructor.apply(this, arguments);\n    }\n\n    MinifyHTML.prototype.name = 'minify-html';\n\n    MinifyHTML.prototype.extensions = ['html'];\n\n    MinifyHTML.prototype.output = 'html';\n\n    MinifyHTML.prototype.supportedEngines = ['html-minifier'];\n\n    /**\n     * I think that you could cause this to not be isolated by using the minifyCSS\n       option and then making that import stylesheets, but I'm not even sure if\n       MinifyHTML would support that...\n     */\n\n    MinifyHTML.prototype.isolated = true;\n\n    MinifyHTML.prototype._render = function (str, options) {\n      options = _.defaults(options, {\n        removeComments: true,\n        collapseWhitespace: true,\n        removeEmptyAttributes: true\n      });\n      return compile(function (_this) {\n        return function () {\n          return _this.engine.minify(str, options);\n        };\n      }(this));\n    };\n\n    compile = function compile(fn) {\n      var err, error, res;\n      try {\n        res = fn();\n      } catch (error) {\n        err = error;\n        return W.reject(err);\n      }\n      return W.resolve({\n        result: res\n      });\n    };\n\n    return MinifyHTML;\n  }(Adapter);\n\n  module.exports = MinifyHTML;\n}).call(undefined);"]}